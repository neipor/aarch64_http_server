http {
    workers 2;
    error_log ./logs/error.log;
    access_log ./logs/access.log;
    
    # 启用压缩以测试压缩优化
    gzip on;
    gzip_comp_level 6;
    gzip_min_length 1024;
    gzip_types text/plain text/html text/css application/json;
    
    # 启用缓存以测试缓存优化
    proxy_cache on;
    proxy_cache_max_size 64m;
    proxy_cache_max_entries 1000;
    
    # 启用带宽限制以测试带宽优化
    enable_bandwidth_limiting on;
    default_rate_limit 10m;
    
    server {
        listen 18080;
        server_name localhost;
        
        location / {
            root ./www;
        }
        
        location /test {
            proxy_pass http://127.0.0.1:18081;
        }
        
        location /asm-status {
            # 特殊端点用于查看汇编优化状态
            return 200 "Assembly Optimization Status";
        }
    }
}
