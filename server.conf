# ANX Server Configuration

http {
    # This is a comment
    workers 4;

    # 静态文件服务器
    server {
        listen 8080;
        server_name localhost;
        
        # 静态文件根目录
        location / {
            root ./www;
        }
        
        # API代理到后端服务器
        location /api {
            proxy_pass http://127.0.0.1:3000;
        }
        
        # 管理接口代理
        location /admin {
            proxy_pass http://127.0.0.1:3001;
        }
    }

    # HTTPS服务器
    server {
        listen 8443 ssl;
        server_name localhost;
        ssl_certificate ./certs/server.crt;
        ssl_certificate_key ./certs/server.key;
        
        # 静态文件根目录
        location / {
            root ./www;
        }
        
        # API代理到后端服务器
        location /api {
            proxy_pass http://127.0.0.1:3000;
        }
        
        # 微服务代理
        location /service {
            proxy_pass http://127.0.0.1:3002;
        }
    }
} 